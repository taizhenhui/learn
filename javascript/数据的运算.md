# 数据的运算



- [运算符](#yunsuan)
  - [算术（数学）运算](#suanshu)
  - [字符串拼接](#zifuchuan)
  - [赋值运算](#fuzhi)
  - [比较运算](#bijiao)
  - [逻辑运算](#luoji)
- [布尔判定](#buer)
- [类型的隐式转换](#type)



## <span id="yunsuan"> </span>运算符



### <a id="suanshu"> </a>算术（数学）运算

支持：加（+）、减（-）、乘（*）、除（%）

> 注意：`+ 和 -` 可以放在单个数据前面，表示  `正负 `

算术运算的表达式一点返回数字，可以利用其特点做类型转换，参考[类型的隐式转换](#type)



### <span id="zifuchuan"> </span>字符串拼接

当 ` + ` 的两端有一个是字符串时，不再进行算术运算，而是 **字符串拼接**

表达式一定返回string，可以了用其特点做类型转换，参考[类型的隐式转换](#type)





### <a id="fuzhi"> </a>赋值运算

涉及的运算符：`=`、 `+=`、  `*=`、  `/=`、 `-=`、 `%=`

其中，`a += xxx`，等效与 `a = a + xxx`，其他类似

> 小贴士
>
> 赋值表达式始终返回赋值结果，我们可以利用这一特点完成 **连续赋值**
>
> ```js
> // 将 3 ，同时赋值给 a b
> a = b = 3
> ```



### <a id="bijiao"> </a>比较运算

涉及运算符：`==`、`===`、`!=`、`!==`、`>`、`>=`、`<`、`<=`

> 小贴士
>
> - 在实际开发中，没有任何理由使用 `==` 和 `!==`，可以当做这两个运算符不存在
>
> - 应该始终使用 `===` 和 `!==` 

> 小贴士
>
> 比较运算始终返回boolean，我们可以利用这一点来完成某些赋值
>
> ```js
> // 啰嗦的代码
> if(sex === '男'){
>   user.isMale = true
> }else{
>   user.isMale = false
> }
> 
> // 优雅的代码
> user.isMale = sex === '男'
> ```



### <a id="luoji"> </a>逻辑运算

逻辑运算会涉及到[布尔判定](#buer)

运算符：`!`

对后面的数据**取反**，表达式一定返回 `Boolean`。

可以利用其特点做类型转换，参考[类型的隐式转换](#type)





运算符：`&&`

并且，真真为真，其他为假，具有 **短路规则**。

表达式返回 **最后一个判定的数据**

> 小贴士
>
> 在实际开发中，我们可以利用短路规则简化代码
>
> ```js
> // 啰嗦的代码
> if(exp){
>   console.log(exp)
> }
> 
> // 优雅的代码
> exp && console.log(exp)
> ```



运算符：`||`

或者，假假为假，其他为真，具有短路规则。

表达式返回 **最后一个判定的数据**

> 小贴士
>
> 在实际开发中，我们可以利用短路规则简化代码
>
> ```js
> // 啰嗦的代码
> if(exp){
>   n = exp
> }else{
>   n = 1
> }
> 
> // 优雅的代码
> n = exp || 1
> ```



运算符：` ? : `，格式 `a ? b : c`

三目运算，判定a，为 真 时表达式返回 b，否则返回 c

> 小贴士
>
> 三目运算通常用于代替一些简单的 if 结构
>
> ```js
> // 啰嗦的代码
> if(exp){
>   n = 1
> }else{
>   n = 2
> }
> 
> // 优雅的代码
> n = exp ? 1 : 2
> ```
>
> 可以嵌套使用
>
> ```js
> n = a ? 1 : b ? 2 : 3
> ```
>
> 



## <a id="buer"> </a>布尔判定

所有需要判定真假的地方都会使用下面的规则

| 数据                                             | 判定  |
| ------------------------------------------------ | ----- |
| `false`、`null`、`undefined`、`0`、`NaN`、`''`、 | false |
| 剩余所有数据                                     | true  |



## <a id="type"> </a>类型的隐式转换

每个运算符都有自己期望的数据，比如 `*` 期望两端都是数字

一旦数据不符合运算符的期望，js就会悄悄地对数据进行类型转换，把他转换成期望的值后进行运算。

值得注意的是，这种转换是 *`临时`* 的，并不会对原数据造成影响

> 小贴士
>
> 在实际开发中，我们可以利用类型的隐式转换完成以下功能：
>
> ```js
> var n = +a; // 不管 a 是啥，都会被转换成数字，保存到 n 中
> var s = a + ''; // 不管 a 是啥，都会被转换成字符串，保存到 s 中
> var b = !!a; // 不管 a 是啥，都会被转换成boolean，保存到 b 中
> ```













